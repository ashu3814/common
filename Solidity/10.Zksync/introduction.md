# 🛠️ Foundry ZKsync: Layer 2 Deployment


## 📝 Overview
This lesson focuses on deploying smart contracts on **ZKsync Layer 2**, which requires different compilation methods compared to Ethereum. The distinction arises due to ZKsync's unique opcodes, which make low-level outputs generated by Foundry incompatible with the ZKsync Virtual Machine (VM). While Solidity code itself remains similar, adjustments to the compilation process are necessary.

---

## 🔄 Steps to Use Foundry ZKsync

### 1. 🛠️ **Install `foundry-zksync`**
   - Clone the **Foundry ZKsync** repository (a fork of Foundry designed for ZKsync) in a separate directory:
     ```bash
     git clone <repository_link>
     ```
   - Navigate to the cloned repository and install it:
     ```bash
     ./install-foundry-zksync
     ```
   - Verify the installation:
     ```bash
     forge --version
     ```
     - 🛡️ **Tip**: A different version number will confirm the successful installation.

---

### 2. 🧑‍💻 **Compile for ZKsync**
   - Compile the Solidity contract using the `--zksync` flag to ensure compatibility with the ZKsync VM:
     ```bash
     forge build --zksync
     ```

---

### 3. 🔄🏠 **Revert to Vanilla Foundry**
   - After using Foundry ZKsync, switch back to **Vanilla Foundry** for Ethereum projects:
     ```bash
     foundryup
     ```
   - This removes ZKsync-specific flags and settings, allowing a seamless toggle between Foundry tools.

---

## 📌 Important Notes
- ⚠️ **Overwritten Binaries**:
  - Installing `foundry-zksync` will override existing Foundry binaries like `forge` and `cast`.

- 🔗 **GitHub Resources**:
  - [Foundry ZKsync Repository](https://github.com/matter-labs/foundry-zksync)
  - [Full Course Resources](https://github.com/Cyfrin/foundry-full-course-cu)

---

## 🌟 Summary
Deploying contracts on ZKsync involves using tailored tools like **foundry-zksync** to ensure compatibility with ZKsync's opcodes and Virtual Machine. This process includes:
- Installing and using `foundry-zksync`.
- Compiling with the `--zksync` flag.
- Switching back to Vanilla Foundry when necessary for non-ZKsync projects.

By following these steps, you can seamlessly deploy on ZKsync's Layer 2, leveraging its scalability and gas fee reductions while maintaining flexibility for other networks.

---

Let me know if there’s anything you’d like me to refine or if additional clarifications are needed! 😊
